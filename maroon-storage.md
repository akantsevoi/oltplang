# Problem to solve
- provide consistent(invariants satisfaction) and durable storage built on top of different storage solutions presented in the organization
	- we need to solve that problem in order to open a possibility to write simpler/durable code/logic/scenarios/etc (maroon-engine)

## Function
- maroon-storage works as a black box for (business-logic developer)::role
- uses one logical instance of [source of truth](./maroon-source-of-truth.md)
- can use various(N > 0) [repositories](./repository.md)
- supports ACID transactions
	- A
		- all updates are done or none
	- C
		- invariants are satisfied(across different repositories)
	- I
		- since we'll have sequential read/writes - it's not relevant for migrator
		- [!] fine only until we're "single-threaded"
	- D
		- set of data as durable as repository is durable(if some repository owns some subset of data - we're limited by this repository's durability)
- admin::role can [configure maroon-storage](./maroong-storage-config.md) to use different repositories
- takes an exclusive rights on read/write operations in all connected repositories
	- all the traffic goes through the maroon-engine
- supported operations for the user
	- read object of a type by id
	- update(whole object or some fields) object of a type by id
	- create object of a type with id
	- autogenerated id
	- query by some query parameters